services:
  - type: web
    name: product-service
    dockerfilePath: ./product-service
    env:
      - key: SPRING_DATA_MONGODB_URI
        value: "mongodb+srv://user:egy4OdPi4Wyrm99k@cluster0.bgj8zvs.mongodb.net/product_db?retryWrites=true&w=majority"
    ports:
      - port: 8080

  - type: web
    name: review-service
    dockerfilePath: ./review-service
    env:
      - key: POSTGRES_URL
        value: "jdbc:postgresql://us-east-1.b52152fa-97a4-4ebb-87be-812fdf65a3b0.aws.ybdb.io:5433/postgres?ssl=true&sslmode=verify-full&sslrootcert=review-service/root.crt"
      - key: POSTGRES_USER
        value: "admin"
      - key: POSTGRES_PASSWORD
        value: "OqTSchvip_ZH-hz7YpYwVs6Wc_Mlij"
    ports: 8083